/*
	pullout.js v1.0.1
	Build: Thomas Digby
	Date: 13/03/2015
*/
function formatHtml(a,b){function c(a){l(b);for(var c=d(a),e="",f="",g=0;g<c.length;g++){var o=c[g],p=c[g-1];g>0&&(!h(p)||i(p)||k(p)||j(p)||(e+=m(n.indentCharacter,n.indentCharacterCount)),i(o)&&(e=e.slice(0,-n.indentCharacterCount))),f+=e+o+"\n"}return f.trim()}function d(a){var b=e(a),c=f(b),d=g(c),h=d.split("\n");return h.filter(function(a){return""!==a})}function e(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>''\/]/g,function(a){return b[a]})}function f(a){var b=a.replace(/\t/g,"").replace(/\n/g,"").replace(/=""/g,"").replace(/\&#62;[\s]+\&#60;/g,"&#62;&#60;");return b}function g(a){var b=a.replace(/(?!&#62;)(?!\n)&#60;/g,"\n&#60;").replace(/&#62;(?!&#60;)(?!\n)/g,"&#62;\n");return b}function h(a){return"&#60;"===a.substring(0,4)}function i(a){return"&#47;"===a.substring(4,10)}function j(a){for(var b=["br","input","link","meta","!doctype","basefont","base","area","source","hr","wbr","param","img","isindex","embed"],c=!1,d=0;d<b.length;d++){var e=new RegExp("&#60;\\b"+b[d]+"\\b");if(a.match(e)){c=!0;break}}return c}function k(a){return"&#60;!--"===a.substring(0,7)}function l(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(n[b]=a[b])}function m(a,b){return new Array(b+1).join(a)}var n={indentCharacterCount:1,indentCharacter:"	"};return c(a)}function loadCSS(a,b,c,d){"use strict";function e(){for(var a,b=0;b<h.length;b++)h[b].href&&h[b].href.indexOf(f.href)>-1&&(a=!0);a?f.media=c||"all":setTimeout(e)}var f=window.document.createElement("link"),g=b||window.document.getElementsByTagName("script")[0],h=window.document.styleSheets;return f.rel="stylesheet",f.href=a,f.media="only x",d&&(f.onload=d),g.parentNode.insertBefore(f,g),e(),f}function loadJS(a,b){"use strict";var c=window.document.getElementsByTagName("script")[0],d=window.document.createElement("script");return d.src=a,d.async=!0,c.parentNode.insertBefore(d,c),b&&"function"==typeof b&&(d.onload=b),d}function pullout(a,b){var c={options:{clickToHighlight:!1,toggleCode:!1,highlightSyntax:!1,prismCss:"",prismJs:""},toggle:{insertHtml:"beforeend",idPrefix:"toggle-",hook:"data-pullout-toggle",selector:"pullout-toggle",contentOpen:"Show code",contentClose:"Hide code"},output:{insertHtml:"beforeend",idPrefix:"output-",hook:"data-pullout-output",selector:"pullout-output"}},d={},e=function(){n(),d=document.querySelectorAll(a),f(),c.options.highlightSyntax&&(document.body.classList.add("language-markup"),loadCSS(c.options.prismCss),loadJS(c.options.prismJs,o()))},f=function(){for(var a=0;a<d.length;a++){var b=d[a],e=formatHtml(b.innerHTML),f=h(a,e),l=c.options.toggleCode?i(a):"";g(b,f,l),c.options.toggleCode&&j(a),c.options.clickToHighlight&&k(a)}},g=function(a,b,d){var e=b.outerHTML,f=d.outerHTML;c.options.toggleCode&&a.insertAdjacentHTML(c.toggle.insertHtml,f),a.insertAdjacentHTML(c.output.insertHtml,e)},h=function(a,b){var d=document.createElement("code"),e=["overflow: auto;","padding: 15px 18px;","tab-size: 4;","white-space: pre;"].join(""),f=document.createAttribute(c.output.hook);return d.setAttributeNode(f),d.setAttribute("id",c.output.idPrefix+a),d.setAttribute("style",e),d.setAttribute("class",c.output.selector),c.options.toggleCode&&d.setAttribute("aria-visible",!1),d.innerHTML=b,d},i=function(a){var b=document.createElement("button"),d=document.createAttribute(c.toggle.hook);return b.setAttributeNode(d),b.setAttribute("id",c.toggle.idPrefix+a),b.setAttribute("class",c.toggle.selector),b.innerHTML=c.toggle.contentOpen,b},j=function(a){var b=document.getElementById(c.toggle.idPrefix+a);b.addEventListener("click",function(){l(a,b)},!1)},k=function(a){var b=document.getElementById(c.output.idPrefix+a);b.addEventListener("click",function(){m(b)},!1)},l=function(a,b){var d=document.getElementById(c.output.idPrefix+a);"false"===d.getAttribute("aria-visible")?(d.setAttribute("aria-visible",!0),b.innerHTML=c.toggle.contentClose):(d.setAttribute("aria-visible",!1),b.innerHTML=c.toggle.contentOpen)},m=function(a){var b=document.createRange(),c=window.getSelection();b.selectNodeContents(a),c.removeAllRanges(),c.addRange(b)},n=function(){for(var a in b)if(b.hasOwnProperty(a))for(var d in b[a])b[a].hasOwnProperty(d)&&(c[a][d]=b[a][d])},o=function(){var a=setInterval(function(){window.Prism&&(Prism.highlightAll(),clearInterval(a))},50)};"querySelector"in document&&"localStorage"in window&&"addEventListener"in window&&e()}