/* pullout.js / Thomas Digby on behalf of MSL Group / 2014-12-16 */
var pullout=function(a){var b={toggle:!1,toggleContent:"Show code",toggleId:"toggle-",toggleSelector:"[data-pullout-toggle]",codeId:"output-",codeSelector:"[data-pullout-output]",clickToHighlight:!0,markupObject:{},markupSelector:"[data-pullout-input]",appendTo:"",prismCss:"dist/prism.css",prismJs:"dist/prism.js"},c=function(){d(),b.markupObject=document.querySelectorAll(b.markupSelector),"querySelector"in document&&"localStorage"in window&&"addEventListener"in window&&(e(),document.body.classList.add("language-markup"),r(b.prismCss),q(b.prismJs,s()))},d=function(){for(var c in a)b[c]=a[c]},e=function(){for(var a=0;a<b.markupObject.length;a++){var c,d=b.markupObject[a],e=n(d),h=j(a,e);b.appendTo.length&&(c=l(d)),c?o(c,a,h):o(d,a,h),b.toggle&&f(a),b.clickToHighlight&&g(a)}},f=function(a){var c=document.getElementById(b.toggleId+a);c.addEventListener("click",function(){i(a)},!1)},g=function(a){var c=document.getElementById(b.codeId+a);c.addEventListener("click",function(){h(c)},!1)},h=function(a){var b=document.createRange(),c=window.getSelection();b.selectNodeContents(a),c.removeAllRanges(),c.addRange(b)},i=function(a){var c=document.getElementById(b.codeId+a);"false"===c.getAttribute("aria-visible")?c.setAttribute("aria-visible",!0):c.setAttribute("aria-visible",!1)},j=function(a,c){var d=p(b.codeSelector),e="overflow: auto; padding: 15px 18px;",f=b.toggle?' aria-visible="false" ':"",g=['<code id="'+b.codeId+a+'" style="'+e+'" '+f+d+">",c,"</code>"].join("");return g},k=function(a){return a[1].match(/\t/g).length},l=function(a){for(var b,c=[],d=a.parentNode;d&&(d===document||!(b=null!==d.getAttribute("data-smang-component-container")?d:!1));){var e=d;c.push(e),d=e.parentNode}return b},m=function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(a).replace(/[&<>''\/]/g,function(a){return b[a]})},n=function(a){var b=m(a.innerHTML),c=b.split("\n"),d="",e=0;c[1].length&&(e=parseInt(k(c)));for(var f=0;f<c.length;f++)d+=c[f].replace('=""',"").substring(e)+"\n";return d.trim()},o=function(a,c,d){if(a.insertAdjacentHTML("afterbegin",d),b.toggle){var e=p(b.toggleSelector),f=' style="padding: 10px;" ',g=['<button id="'+b.toggleId+c+'" '+e+f+">",b.toggleContent,"</button>"].join("");a.previousElementSibling?a.previousElementSibling.insertAdjacentHTML("afterbegin",g):a.insertAdjacentHTML("afterbegin",g)}},p=function(a){var b=-1!==a.indexOf("."),c=a.substr(1),d=a.slice(1,a.length-1),e=b?'class="'+c+'"':d;return e},q=function(a,b){"use strict";var c=window.document.getElementsByTagName("script")[0],d=window.document.createElement("script");return d.src=a,d.async=!0,c.parentNode.insertBefore(d,c),b&&"function"==typeof b&&(d.onload=b),d},r=function(a,b,c){"use strict";function d(){for(var b,f=0;f<g.length;f++)g[f].href&&g[f].href.indexOf(a)>-1&&(b=!0);b?e.media=c||"all":setTimeout(d)}var e=window.document.createElement("link"),f=b||window.document.getElementsByTagName("script")[0],g=window.document.styleSheets;return e.rel="stylesheet",e.href=a,e.media="only x",f.parentNode.insertBefore(e,f),d(),e},s=function(){setTimeout(function(){Prism.highlightAll()},250)};c()};pullout({appendTo:"[data-pullout-container]",toggle:!0,toggleContent:"&lt;/&gt;"});